# 安全声明与免责条款

**最后更新：2024年12月**

## ⚠️ 重要声明

QuantMesh 做市商系统（以下简称"本系统"）是一个开源的加密货币交易工具。在使用本系统前，请仔细阅读并理解以下安全声明和免责条款。

## 🔐 安全架构

### API 密钥存储

- ✅ **本地存储** - 您的 API 密钥和 Secret 仅存储在您自己的服务器或计算机上
- ✅ **配置文件** - 密钥保存在本地 `config.yaml` 文件中
- ✅ **不经过第三方** - 系统直接与交易所通信，不经过任何中间服务器
- ✅ **开源透明** - 所有代码公开，可自行审计

### 权限检测机制

系统启动时会自动检测 API 密钥权限：

1. **提现权限检测** - 如检测到提现权限，会发出警告
2. **转账权限检测** - 如检测到转账权限，会发出警告
3. **IP 限制检测** - 建议启用 IP 白名单
4. **安全评分** - 根据权限配置计算安全评分（0-100）

**⚠️ 强烈建议：**
- 禁用 API 密钥的提现权限
- 禁用 API 密钥的转账权限
- 启用 IP 白名单限制
- 使用子账户 API 进行交易

### 操作审计

- ✅ **完整日志** - 所有敏感操作都会记录审计日志
- ✅ **时间戳** - 记录操作时间、用户、IP 地址
- ✅ **可追溯** - 支持查询和导出审计日志
- ✅ **异常检测** - 可识别异常操作模式

## 🛡️ 用户责任

### 您需要负责

1. **API 密钥安全**
   - 妥善保管您的 API 密钥和 Secret
   - 不要与任何人分享您的密钥
   - 定期更换 API 密钥
   - 在交易所后台正确配置权限

2. **服务器安全**
   - 确保运行本系统的服务器安全
   - 使用强密码和防火墙
   - 及时更新操作系统和软件
   - 限制 SSH 访问

3. **网络安全**
   - 使用 HTTPS 访问系统（生产环境）
   - 避免在公共 WiFi 下操作
   - 使用 VPN 保护网络连接
   - 不要暴露系统到公网（除非必要）

4. **交易风险**
   - 理解网格交易策略的风险
   - 合理配置交易参数
   - 监控市场行情和持仓
   - 设置风险控制阈值

5. **资金安全**
   - 不要投入超过您承受能力的资金
   - 使用子账户限制资金规模
   - 定期提取利润到安全账户
   - 避免在单一交易所存放大额资金

## ⚖️ 免责条款

### 软件按"原样"提供

本系统按"原样"（AS IS）提供，不提供任何明示或暗示的保证，包括但不限于：

- ❌ 适销性保证
- ❌ 特定用途适用性保证
- ❌ 无侵权保证
- ❌ 盈利保证

### 风险提示

1. **市场风险**
   - 加密货币市场波动剧烈
   - 可能导致部分或全部资金损失
   - 过去的表现不代表未来结果

2. **技术风险**
   - 软件可能存在 Bug
   - 网络可能中断
   - 交易所 API 可能变更
   - 服务器可能故障

3. **操作风险**
   - 配置错误可能导致损失
   - 人为操作失误
   - 策略不适应市场变化

4. **安全风险**
   - API 密钥可能被盗
   - 服务器可能被入侵
   - 网络可能被监听
   - 假冒应用可能欺诈

### 责任限制

在任何情况下，本系统的开发者、贡献者、维护者均不对以下情况承担责任：

1. **直接损失**
   - 资金损失
   - 交易损失
   - 数据丢失

2. **间接损失**
   - 利润损失
   - 机会成本
   - 商誉损失

3. **特殊损失**
   - 惩罚性赔偿
   - 附带损失
   - 后果性损失

即使已被告知可能发生此类损失。

### 不承担的责任

开发者不对以下情况承担责任：

1. **第三方行为**
   - 交易所的行为或政策
   - 黑客攻击
   - 政府监管
   - 网络服务提供商

2. **用户行为**
   - 配置错误
   - 操作失误
   - 密钥泄露
   - 违反交易所规则

3. **不可抗力**
   - 自然灾害
   - 战争
   - 政府行为
   - 网络攻击

## 🚨 假冒应用警示

### 官方渠道

- ✅ **GitHub 仓库** - https://github.com/your-repo
- ✅ **官方文档** - https://github.com/your-repo/docs
- ✅ **开源代码** - 可自行编译和审计

### 警惕假冒

- ❌ **不要下载第三方打包的 APK**
- ❌ **不要使用第三方提供的编译版本**
- ❌ **不要在非官方网站输入 API 密钥**
- ❌ **不要相信声称"官方"的第三方服务**

### 如何验证

1. **检查代码签名**
   ```bash
   # 验证 Git 提交签名
   git log --show-signature
   ```

2. **自行编译**
   ```bash
   # 从源码编译
   git clone https://github.com/your-repo
   cd opensqt_market_maker
   go build
   ```

3. **审计代码**
   - 所有代码开源
   - 可自行审计或请专业人员审计
   - 社区审计报告

## 📋 最佳实践清单

### 部署前

- [ ] 阅读完整文档
- [ ] 理解交易策略和风险
- [ ] 准备测试环境和测试资金
- [ ] 配置交易所 API 权限（禁用提现）
- [ ] 设置 IP 白名单
- [ ] 使用子账户

### 部署时

- [ ] 使用强密码
- [ ] 启用 WebAuthn 认证
- [ ] 配置防火墙
- [ ] 使用 HTTPS（生产环境）
- [ ] 设置审计日志
- [ ] 配置告警通知

### 运行中

- [ ] 定期检查系统状态
- [ ] 监控持仓和盈亏
- [ ] 查看审计日志
- [ ] 备份配置和数据
- [ ] 更新系统版本
- [ ] 更换 API 密钥

### 异常处理

- [ ] 立即停止交易
- [ ] 检查审计日志
- [ ] 联系交易所客服
- [ ] 更换 API 密钥
- [ ] 报告安全问题

## 🔍 安全审计

### 自行审计

建议您或您信任的技术人员审计以下内容：

1. **API 密钥处理**
   - 检查 `config/config.go`
   - 检查 `exchange/` 目录下的交易所实现

2. **网络通信**
   - 检查 `exchange/*/client.go`
   - 确认直接与交易所通信

3. **权限检测**
   - 检查 `exchange/permission_checker.go`
   - 检查 `symbol_manager.go` 中的启动检测

4. **审计日志**
   - 检查 `web/audit_log.go`
   - 确认敏感操作都有记录

### 社区审计

欢迎安全研究人员审计代码并报告问题：

- 📧 Email: security@your-domain.com
- 🐛 GitHub Issues: https://github.com/your-repo/issues
- 💬 负责任披露政策

## 📞 联系方式

### 安全问题报告

如发现安全漏洞，请通过以下方式报告：

- 📧 **安全邮箱** - security@your-domain.com
- 🔒 **PGP 加密** - 公钥: [链接]
- ⏱️ **响应时间** - 48小时内回复

### 技术支持

- 💬 **社区讨论** - GitHub Discussions
- 📖 **文档** - docs/ 目录
- 🐛 **Bug 报告** - GitHub Issues

## 📄 许可协议

本系统采用 [MIT License](../LICENSE)，使用前请阅读许可协议。

## ✅ 确认与同意

使用本系统即表示您已：

1. ✅ 完整阅读并理解本安全声明
2. ✅ 了解加密货币交易的风险
3. ✅ 同意自行承担使用本系统的所有风险
4. ✅ 理解开发者不对任何损失承担责任
5. ✅ 承诺遵守交易所规则和当地法律

---

**再次提醒：加密货币交易有风险，投资需谨慎！**

**请确保您完全理解系统的工作原理和风险后再使用！**

**API 密钥安全是您的责任，请务必妥善保管！**

