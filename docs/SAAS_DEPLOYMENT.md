# QuantMesh äº‘åŒ–SaaSéƒ¨ç½²æ–¹æ¡ˆ

## ğŸ¯ æ–¹æ¡ˆæ¦‚è¿°

å°† QuantMesh åšå¸‚å•†ç³»ç»Ÿéƒ¨ç½²ä¸ºäº‘ç«¯SaaSæœåŠ¡ï¼Œç”¨æˆ·æ— éœ€æœ¬åœ°éƒ¨ç½²ï¼ŒæŒ‰æœˆä»˜è´¹å³å¯è·å¾—åœ¨çº¿è¿è¡Œçš„äº¤æ˜“å®ä¾‹ã€‚

## ğŸ’° å•†ä¸šæ¨¡å¼

### å®šä»·æ–¹æ¡ˆ

```yaml
ä¸ªäººç‰ˆ (Starter):
  ä»·æ ¼: $49/æœˆ æˆ– $490/å¹´ (çœ17%)
  é…ç½®:
    - CPU: 1æ ¸
    - å†…å­˜: 1GB
    - å­˜å‚¨: 10GB
    - äº¤æ˜“å¯¹: 1ä¸ª
    - ç­–ç•¥: åŸºç¡€ç½‘æ ¼
    - å¹¶å‘è®¢å•: 100
    - APIè°ƒç”¨: 10,000æ¬¡/å¤©
    - æ”¯æŒ: é‚®ä»¶æ”¯æŒ
  é€‚åˆ: ä¸ªäººäº¤æ˜“è€…ã€å°é¢èµ„é‡‘

ä¸“ä¸šç‰ˆ (Professional):
  ä»·æ ¼: $199/æœˆ æˆ– $1,990/å¹´ (çœ17%)
  é…ç½®:
    - CPU: 2æ ¸
    - å†…å­˜: 2GB
    - å­˜å‚¨: 50GB
    - äº¤æ˜“å¯¹: 5ä¸ª
    - ç­–ç•¥: å…¨éƒ¨ç­–ç•¥ + AIæ’ä»¶
    - å¹¶å‘è®¢å•: 500
    - APIè°ƒç”¨: 100,000æ¬¡/å¤©
    - æ”¯æŒ: ä¼˜å…ˆé‚®ä»¶ + Telegram
    - é¢å¤–: æ•°æ®å¤‡ä»½ã€è‡ªå®šä¹‰åŸŸå
  é€‚åˆ: ä¸“ä¸šäº¤æ˜“è€…ã€ä¸­ç­‰èµ„é‡‘

ä¼ä¸šç‰ˆ (Enterprise):
  ä»·æ ¼: $999/æœˆ æˆ– $9,990/å¹´ (çœ17%)
  é…ç½®:
    - CPU: 4æ ¸+
    - å†…å­˜: 8GB+
    - å­˜å‚¨: 200GB+
    - äº¤æ˜“å¯¹: æ— é™
    - ç­–ç•¥: å…¨éƒ¨ + å®šåˆ¶å¼€å‘
    - å¹¶å‘è®¢å•: æ— é™
    - APIè°ƒç”¨: æ— é™
    - æ”¯æŒ: 7x24 ä¸“å±æŠ€æœ¯å›¢é˜Ÿ
    - é¢å¤–: ç‹¬ç«‹æœåŠ¡å™¨ã€VIPé€šé“ã€å®šåˆ¶åŠŸèƒ½
  é€‚åˆ: æœºæ„ã€å¤§èµ„é‡‘ã€å›¢é˜Ÿ

è¯•ç”¨ç‰ˆ (Trial):
  ä»·æ ¼: $0 (7å¤©)
  é…ç½®:
    - ä¸ä¸ªäººç‰ˆç›¸åŒ
    - é™åˆ¶: ä»…æµ‹è¯•ç½‘
  é€‚åˆ: æ–°ç”¨æˆ·ä½“éªŒ
```

### æ”¶å…¥é¢„æµ‹

```
ä¿å®ˆä¼°è®¡ (ç¬¬ä¸€å¹´):
- ä¸ªäººç‰ˆ: 50ç”¨æˆ· Ã— $49 Ã— 12 = $29,400
- ä¸“ä¸šç‰ˆ: 20ç”¨æˆ· Ã— $199 Ã— 12 = $47,760
- ä¼ä¸šç‰ˆ: 5ç”¨æˆ· Ã— $999 Ã— 12 = $59,940
- æ€»è®¡: $137,100/å¹´

ä¹è§‚ä¼°è®¡ (ç¬¬äºŒå¹´):
- ä¸ªäººç‰ˆ: 200ç”¨æˆ· Ã— $49 Ã— 12 = $117,600
- ä¸“ä¸šç‰ˆ: 100ç”¨æˆ· Ã— $199 Ã— 12 = $238,800
- ä¼ä¸šç‰ˆ: 20ç”¨æˆ· Ã— $999 Ã— 12 = $239,760
- æ€»è®¡: $596,160/å¹´
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·å±‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Webæµè§ˆå™¨   â”‚  â”‚  ç§»åŠ¨App     â”‚  â”‚  APIå®¢æˆ·ç«¯   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ¥å…¥å±‚ (CDN + è´Ÿè½½å‡è¡¡)                       â”‚
â”‚  - Cloudflare CDN                                                â”‚
â”‚  - DDoSé˜²æŠ¤                                                      â”‚
â”‚  - SSL/TLSç»ˆç»“                                                   â”‚
â”‚  - åŸŸåè·¯ç”±: user123.quantmesh.cloud                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨å±‚ (ç®¡ç†åå°)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æ§åˆ¶é¢æ¿ (Go + React)                                  â”‚    â”‚
â”‚  â”‚  - ç”¨æˆ·æ³¨å†Œ/ç™»å½• (OAuth2 + WebAuthn)                   â”‚    â”‚
â”‚  â”‚  - å®ä¾‹ç®¡ç† (å¯åŠ¨/åœæ­¢/é‡å¯/åˆ é™¤)                       â”‚    â”‚
â”‚  â”‚  - é…ç½®ç®¡ç† (äº¤æ˜“å¯¹ã€ç­–ç•¥ã€å‚æ•°)                        â”‚    â”‚
â”‚  â”‚  - ç›‘æ§é¢æ¿ (å®æ—¶æ•°æ®ã€ç›ˆäºæ›²çº¿)                        â”‚    â”‚
â”‚  â”‚  - è®¢é˜…ç®¡ç† (å‡çº§/é™çº§/ç»­è´¹)                            â”‚    â”‚
â”‚  â”‚  - APIå¯†é’¥ç®¡ç†                                          â”‚    â”‚
â”‚  â”‚  - æ—¥å¿—æŸ¥çœ‹                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®¹å™¨ç¼–æ’å±‚ (Docker)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å®ä¾‹ç®¡ç†å™¨ (Instance Manager)                            â”‚  â”‚
â”‚  â”‚  - å®ä¾‹ç”Ÿå‘½å‘¨æœŸç®¡ç†                                       â”‚  â”‚
â”‚  â”‚  - èµ„æºé…é¢æ§åˆ¶                                           â”‚  â”‚
â”‚  â”‚  - å¥åº·æ£€æŸ¥                                               â”‚  â”‚
â”‚  â”‚  - è‡ªåŠ¨é‡å¯                                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  ç”¨æˆ·Aå®ä¾‹  â”‚  â”‚  ç”¨æˆ·Bå®ä¾‹  â”‚  â”‚  ç”¨æˆ·Cå®ä¾‹  â”‚  ...        â”‚
â”‚  â”‚  Container  â”‚  â”‚  Container  â”‚  â”‚  Container  â”‚            â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚            â”‚
â”‚  â”‚  â”‚quantmeshâ”‚ â”‚  â”‚  â”‚quantmeshâ”‚ â”‚  â”‚  â”‚quantmeshâ”‚ â”‚            â”‚
â”‚  â”‚  â”‚ binary  â”‚ â”‚  â”‚  â”‚ binary  â”‚ â”‚  â”‚  â”‚ binary  â”‚ â”‚            â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚            â”‚
â”‚  â”‚  Port:8001  â”‚  â”‚  Port:8002  â”‚  â”‚  Port:8003  â”‚            â”‚
â”‚  â”‚  CPU:1c     â”‚  â”‚  CPU:1c     â”‚  â”‚  CPU:2c     â”‚            â”‚
â”‚  â”‚  RAM:1GB    â”‚  â”‚  RAM:1GB    â”‚  â”‚  RAM:2GB    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å±‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ PostgreSQL   â”‚  â”‚    Redis     â”‚  â”‚  å¯¹è±¡å­˜å‚¨    â”‚         â”‚
â”‚  â”‚ (ç”¨æˆ·/è®¢é˜…)  â”‚  â”‚  (ä¼šè¯/ç¼“å­˜) â”‚  â”‚ (æ—¥å¿—/å¤‡ä»½)  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç›‘æ§å±‚                                        â”‚
â”‚  - Prometheus (æŒ‡æ ‡é‡‡é›†)                                         â”‚
â”‚  - Grafana (å¯è§†åŒ–)                                              â”‚
â”‚  - Alertmanager (å‘Šè­¦)                                           â”‚
â”‚  - Loki (æ—¥å¿—èšåˆ)                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶

#### 1. å®ä¾‹ç®¡ç†å™¨ (Instance Manager)

```go
package manager

import (
    "context"
    "fmt"
    "os/exec"
    "sync"
)

// InstanceManager å®ä¾‹ç®¡ç†å™¨
type InstanceManager struct {
    instances map[string]*Instance
    mu        sync.RWMutex
}

// Instance ç”¨æˆ·å®ä¾‹
type Instance struct {
    ID          string
    UserID      string
    Plan        string // starter/professional/enterprise
    Status      string // running/stopped/error
    ContainerID string
    Port        int
    CPU         float64 // CPUæ ¸å¿ƒæ•°
    Memory      int64   // å†…å­˜MB
    CreatedAt   time.Time
    LastActive  time.Time
}

// CreateInstance åˆ›å»ºæ–°å®ä¾‹
func (m *InstanceManager) CreateInstance(userID, plan string) (*Instance, error) {
    m.mu.Lock()
    defer m.mu.Unlock()

    // 1. ç”Ÿæˆå®ä¾‹ID
    instanceID := generateInstanceID(userID)

    // 2. åˆ†é…èµ„æº
    resources := m.allocateResources(plan)

    // 3. ç”Ÿæˆé…ç½®æ–‡ä»¶
    configPath := fmt.Sprintf("/data/instances/%s/config.yaml", instanceID)
    if err := m.generateConfig(userID, configPath); err != nil {
        return nil, err
    }

    // 4. å¯åŠ¨Dockerå®¹å™¨
    containerID, port, err := m.startContainer(instanceID, resources)
    if err != nil {
        return nil, err
    }

    // 5. åˆ›å»ºå®ä¾‹è®°å½•
    instance := &Instance{
        ID:          instanceID,
        UserID:      userID,
        Plan:        plan,
        Status:      "running",
        ContainerID: containerID,
        Port:        port,
        CPU:         resources.CPU,
        Memory:      resources.Memory,
        CreatedAt:   time.Now(),
        LastActive:  time.Now(),
    }

    m.instances[instanceID] = instance

    // 6. ä¿å­˜åˆ°æ•°æ®åº“
    if err := m.saveToDatabase(instance); err != nil {
        m.stopContainer(containerID)
        return nil, err
    }

    return instance, nil
}

// startContainer å¯åŠ¨Dockerå®¹å™¨
func (m *InstanceManager) startContainer(instanceID string, resources *Resources) (string, int, error) {
    port := m.allocatePort()

    cmd := exec.Command("docker", "run", "-d",
        "--name", instanceID,
        "--cpus", fmt.Sprintf("%.1f", resources.CPU),
        "--memory", fmt.Sprintf("%dm", resources.Memory),
        "-p", fmt.Sprintf("%d:8080", port),
        "-v", fmt.Sprintf("/data/instances/%s:/data", instanceID),
        "-e", fmt.Sprintf("INSTANCE_ID=%s", instanceID),
        "quantmesh:latest",
    )

    output, err := cmd.CombinedOutput()
    if err != nil {
        return "", 0, fmt.Errorf("å¯åŠ¨å®¹å™¨å¤±è´¥: %v, %s", err, output)
    }

    containerID := strings.TrimSpace(string(output))
    return containerID, port, nil
}

// StopInstance åœæ­¢å®ä¾‹
func (m *InstanceManager) StopInstance(instanceID string) error {
    m.mu.Lock()
    defer m.mu.Unlock()

    instance, exists := m.instances[instanceID]
    if !exists {
        return fmt.Errorf("å®ä¾‹ä¸å­˜åœ¨")
    }

    // åœæ­¢å®¹å™¨
    cmd := exec.Command("docker", "stop", instance.ContainerID)
    if err := cmd.Run(); err != nil {
        return err
    }

    instance.Status = "stopped"
    return m.updateDatabase(instance)
}

// RestartInstance é‡å¯å®ä¾‹
func (m *InstanceManager) RestartInstance(instanceID string) error {
    if err := m.StopInstance(instanceID); err != nil {
        return err
    }
    return m.StartInstance(instanceID)
}

// DeleteInstance åˆ é™¤å®ä¾‹
func (m *InstanceManager) DeleteInstance(instanceID string) error {
    m.mu.Lock()
    defer m.mu.Unlock()

    instance, exists := m.instances[instanceID]
    if !exists {
        return fmt.Errorf("å®ä¾‹ä¸å­˜åœ¨")
    }

    // 1. åœæ­¢å¹¶åˆ é™¤å®¹å™¨
    exec.Command("docker", "stop", instance.ContainerID).Run()
    exec.Command("docker", "rm", instance.ContainerID).Run()

    // 2. å¤‡ä»½æ•°æ®
    if err := m.backupInstanceData(instanceID); err != nil {
        logger.Warn("å¤‡ä»½å®ä¾‹æ•°æ®å¤±è´¥: %v", err)
    }

    // 3. åˆ é™¤æ•°æ®
    os.RemoveAll(fmt.Sprintf("/data/instances/%s", instanceID))

    // 4. ä»å†…å­˜åˆ é™¤
    delete(m.instances, instanceID)

    // 5. ä»æ•°æ®åº“åˆ é™¤
    return m.deleteFromDatabase(instanceID)
}

// MonitorInstances ç›‘æ§æ‰€æœ‰å®ä¾‹
func (m *InstanceManager) MonitorInstances() {
    ticker := time.NewTicker(30 * time.Second)
    defer ticker.Stop()

    for range ticker.C {
        m.mu.RLock()
        for _, instance := range m.instances {
            go m.checkInstanceHealth(instance)
        }
        m.mu.RUnlock()
    }
}

// checkInstanceHealth æ£€æŸ¥å®ä¾‹å¥åº·çŠ¶æ€
func (m *InstanceManager) checkInstanceHealth(instance *Instance) {
    // 1. æ£€æŸ¥å®¹å™¨æ˜¯å¦è¿è¡Œ
    cmd := exec.Command("docker", "inspect", "-f", "{{.State.Running}}", instance.ContainerID)
    output, err := cmd.Output()
    if err != nil || strings.TrimSpace(string(output)) != "true" {
        logger.Error("å®ä¾‹ %s å®¹å™¨æœªè¿è¡Œï¼Œå°è¯•é‡å¯", instance.ID)
        m.RestartInstance(instance.ID)
        return
    }

    // 2. æ£€æŸ¥HTTPå¥åº·ç«¯ç‚¹
    resp, err := http.Get(fmt.Sprintf("http://localhost:%d/health", instance.Port))
    if err != nil || resp.StatusCode != 200 {
        logger.Warn("å®ä¾‹ %s å¥åº·æ£€æŸ¥å¤±è´¥", instance.ID)
        // å¯ä»¥é€‰æ‹©é‡å¯æˆ–å‘Šè­¦
    }

    // 3. æ›´æ–°æœ€åæ´»è·ƒæ—¶é—´
    instance.LastActive = time.Now()
    m.updateDatabase(instance)
}
```

#### 2. ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ

```go
package user

// User ç”¨æˆ·ä¿¡æ¯
type User struct {
    ID              string
    Email           string
    PasswordHash    string
    Plan            string // starter/professional/enterprise
    SubscriptionID  string
    ExpiryDate      time.Time
    InstanceID      string
    CreatedAt       time.Time
    APIKey          string
    APISecret       string
}

// SubscriptionManager è®¢é˜…ç®¡ç†
type SubscriptionManager struct {
    db *sql.DB
}

// CreateSubscription åˆ›å»ºè®¢é˜…
func (sm *SubscriptionManager) CreateSubscription(userID, plan string, duration int) (*Subscription, error) {
    // 1. è®¡ç®—ä»·æ ¼
    price := sm.calculatePrice(plan, duration)

    // 2. è°ƒç”¨æ”¯ä»˜æ¥å£ (Stripe/PayPal)
    paymentID, err := sm.processPayment(userID, price)
    if err != nil {
        return nil, err
    }

    // 3. åˆ›å»ºè®¢é˜…è®°å½•
    subscription := &Subscription{
        ID:        generateID(),
        UserID:    userID,
        Plan:      plan,
        Price:     price,
        StartDate: time.Now(),
        EndDate:   time.Now().AddDate(0, duration, 0),
        Status:    "active",
        PaymentID: paymentID,
    }

    // 4. ä¿å­˜åˆ°æ•°æ®åº“
    return subscription, sm.saveSubscription(subscription)
}

// RenewSubscription ç»­è´¹è®¢é˜…
func (sm *SubscriptionManager) RenewSubscription(subscriptionID string) error {
    // å®ç°ç»­è´¹é€»è¾‘
}

// UpgradeSubscription å‡çº§è®¢é˜…
func (sm *SubscriptionManager) UpgradeSubscription(subscriptionID, newPlan string) error {
    // å®ç°å‡çº§é€»è¾‘
    // 1. è®¡ç®—å·®ä»·
    // 2. å¤„ç†æ”¯ä»˜
    // 3. æ›´æ–°å®ä¾‹èµ„æºé…é¢
    // 4. æ›´æ–°è®¢é˜…è®°å½•
}

// CheckExpiry æ£€æŸ¥è®¢é˜…æ˜¯å¦è¿‡æœŸ
func (sm *SubscriptionManager) CheckExpiry() {
    ticker := time.NewTicker(1 * time.Hour)
    defer ticker.Stop()

    for range ticker.C {
        expiredSubs := sm.getExpiredSubscriptions()
        for _, sub := range expiredSubs {
            // 1. å‘é€ç»­è´¹æé†’é‚®ä»¶
            sm.sendRenewalEmail(sub.UserID)

            // 2. åœæ­¢å®ä¾‹
            instanceManager.StopInstance(sub.InstanceID)

            // 3. æ›´æ–°è®¢é˜…çŠ¶æ€
            sub.Status = "expired"
            sm.updateSubscription(sub)
        }
    }
}
```

#### 3. é…ç½®ç”Ÿæˆå™¨

```go
package config

// ConfigGenerator é…ç½®ç”Ÿæˆå™¨
type ConfigGenerator struct{}

// GenerateUserConfig ä¸ºç”¨æˆ·ç”Ÿæˆé…ç½®æ–‡ä»¶
func (cg *ConfigGenerator) GenerateUserConfig(userID, plan string) (string, error) {
    // æ ¹æ®ç”¨æˆ·å¥—é¤ç”Ÿæˆä¸åŒçš„é…ç½®
    config := &Config{
        App: AppConfig{
            CurrentExchange: "binance",
        },
        Exchanges: map[string]ExchangeConfig{
            "binance": {
                APIKey:    "", // ç”¨æˆ·éœ€è¦è‡ªå·±å¡«å†™
                SecretKey: "",
                FeeRate:   0.0002,
            },
        },
        Trading: TradingConfig{
            Symbol:         "BTCUSDT",
            PriceInterval:  1.0,
            OrderQuantity:  30.0,
            BuyWindowSize:  cg.getBuyWindowSize(plan),
            SellWindowSize: cg.getSellWindowSize(plan),
        },
        System: SystemConfig{
            LogLevel:     "INFO",
            CancelOnExit: true,
        },
        Plugins: cg.getPluginsConfig(plan),
    }

    // åºåˆ—åŒ–ä¸ºYAML
    data, err := yaml.Marshal(config)
    if err != nil {
        return "", err
    }

    return string(data), nil
}

// getBuyWindowSize æ ¹æ®å¥—é¤è·å–ä¹°å•çª—å£å¤§å°
func (cg *ConfigGenerator) getBuyWindowSize(plan string) int {
    switch plan {
    case "starter":
        return 50
    case "professional":
        return 100
    case "enterprise":
        return 200
    default:
        return 50
    }
}

// getPluginsConfig æ ¹æ®å¥—é¤è·å–æ’ä»¶é…ç½®
func (cg *ConfigGenerator) getPluginsConfig(plan string) *PluginsConfig {
    if plan == "starter" {
        return nil // åŸºç¡€ç‰ˆä¸åŒ…å«æ’ä»¶
    }

    return &PluginsConfig{
        Enabled: true,
        Plugins: []PluginConfig{
            {
                Name:    "premium_ai_strategy",
                Enabled: plan == "professional" || plan == "enterprise",
            },
        },
    }
}
```

## ğŸ“Š æˆæœ¬åˆ†æ

### æœåŠ¡å™¨æˆæœ¬

```yaml
åˆæœŸ (< 100ç”¨æˆ·):
  æ–¹æ¡ˆ: å•å°VPS
  é…ç½®: 8æ ¸16GB
  ä»·æ ¼: $80-150/æœˆ
  æä¾›å•†: DigitalOcean/Linode/Vultr
  å¯æ”¯æ’‘: 50-100ä¸ªå®ä¾‹

ä¸­æœŸ (100-500ç”¨æˆ·):
  æ–¹æ¡ˆ: å¤šå°VPS + è´Ÿè½½å‡è¡¡
  é…ç½®: 3å° 8æ ¸16GB
  ä»·æ ¼: $250-450/æœˆ
  å¯æ”¯æ’‘: 200-500ä¸ªå®ä¾‹

é•¿æœŸ (> 500ç”¨æˆ·):
  æ–¹æ¡ˆ: äº‘æœåŠ¡å™¨é›†ç¾¤
  é…ç½®: è‡ªåŠ¨æ‰©ç¼©å®¹
  ä»·æ ¼: æŒ‰ä½¿ç”¨é‡è®¡è´¹
  æä¾›å•†: AWS/GCP/é˜¿é‡Œäº‘
```

### å…¶ä»–æˆæœ¬

```yaml
åŸºç¡€è®¾æ–½:
  - CDN: $20-100/æœˆ (Cloudflare Pro)
  - æ•°æ®åº“: $15-50/æœˆ (æ‰˜ç®¡PostgreSQL)
  - å¯¹è±¡å­˜å‚¨: $5-20/æœˆ (å¤‡ä»½å’Œæ—¥å¿—)
  - ç›‘æ§: $0-50/æœˆ (Prometheus + Grafana)
  - åŸŸå+SSL: $20/å¹´

æ”¯ä»˜é€šé“:
  - Stripe: 2.9% + $0.3/ç¬”
  - PayPal: 3.4% + $0.3/ç¬”
  - åŠ å¯†è´§å¸: 1-2%

è¿è¥æˆæœ¬:
  - å®¢æœ: $0-2000/æœˆ (åˆæœŸå¯è‡ªå·±åš)
  - è¥é”€: $500-5000/æœˆ
  - æ³•å¾‹åˆè§„: $1000-5000/å¹´
```

### ç›ˆäºå¹³è¡¡åˆ†æ

```
æœˆåº¦å›ºå®šæˆæœ¬: ~$500
æ¯ä¸ªç”¨æˆ·å¹³å‡æ”¶å…¥: $49 (ä¸ªäººç‰ˆ)

ç›ˆäºå¹³è¡¡ç‚¹: 500 / 49 â‰ˆ 11ä¸ªä»˜è´¹ç”¨æˆ·

å®é™…æƒ…å†µ:
- è€ƒè™‘è½¬åŒ–ç‡ 5%
- éœ€è¦çº¦ 220 ä¸ªæ³¨å†Œç”¨æˆ·
- é¢„è®¡ 3-6 ä¸ªæœˆè¾¾åˆ°
```

## ğŸš€ å®æ–½è·¯çº¿å›¾

### é˜¶æ®µ1: MVPå¼€å‘ (1-2ä¸ªæœˆ)

```yaml
Week 1-2: åŸºç¡€æ¶æ„
  - DockeråŒ–ç°æœ‰ç³»ç»Ÿ
  - å®ä¾‹ç®¡ç†å™¨å¼€å‘
  - ç”¨æˆ·æ³¨å†Œ/ç™»å½•

Week 3-4: æ ¸å¿ƒåŠŸèƒ½
  - å®ä¾‹åˆ›å»º/åˆ é™¤
  - é…ç½®ç®¡ç†ç•Œé¢
  - åŸºç¡€ç›‘æ§

Week 5-6: æ”¯ä»˜é›†æˆ
  - Stripeé›†æˆ
  - è®¢é˜…ç®¡ç†
  - è‡ªåŠ¨ç»­è´¹

Week 7-8: æµ‹è¯•ä¼˜åŒ–
  - å†…éƒ¨æµ‹è¯•
  - æ€§èƒ½ä¼˜åŒ–
  - å®‰å…¨åŠ å›º
```

### é˜¶æ®µ2: Betaæµ‹è¯• (1ä¸ªæœˆ)

```yaml
Week 9-10: Betaå‘å¸ƒ
  - é‚€è¯·50ä¸ªæµ‹è¯•ç”¨æˆ·
  - æ”¶é›†åé¦ˆ
  - ä¿®å¤bug

Week 11-12: ä¼˜åŒ–è¿­ä»£
  - æ ¹æ®åé¦ˆæ”¹è¿›
  - å®Œå–„æ–‡æ¡£
  - å‡†å¤‡æ­£å¼å‘å¸ƒ
```

### é˜¶æ®µ3: æ­£å¼ä¸Šçº¿ (æŒç»­)

```yaml
Month 4: æ­£å¼å‘å¸ƒ
  - å…¬å¼€å‘å¸ƒ
  - è¥é”€æ¨å¹¿
  - å®¢æˆ·æ”¯æŒ

Month 5-6: å¢é•¿æœŸ
  - ç”¨æˆ·å¢é•¿
  - åŠŸèƒ½è¿­ä»£
  - æ‰©å±•æœåŠ¡å™¨

Month 7-12: ç¨³å®šæœŸ
  - æŒç»­ä¼˜åŒ–
  - æ–°åŠŸèƒ½å¼€å‘
  - ä¼ä¸šå®¢æˆ·æ‹“å±•
```

## ğŸ”’ å®‰å…¨è€ƒè™‘

### æ•°æ®éš”ç¦»

```yaml
å®¹å™¨çº§éš”ç¦»:
  - æ¯ä¸ªç”¨æˆ·ç‹¬ç«‹å®¹å™¨
  - èµ„æºé…é¢é™åˆ¶
  - ç½‘ç»œéš”ç¦»

æ•°æ®éš”ç¦»:
  - ç‹¬ç«‹æ•°æ®ç›®å½•
  - åŠ å¯†å­˜å‚¨APIå¯†é’¥
  - å®šæœŸå¤‡ä»½

è®¿é—®æ§åˆ¶:
  - JWTè®¤è¯
  - APIå¯†é’¥ç®¡ç†
  - IPç™½åå• (ä¼ä¸šç‰ˆ)
```

### åˆè§„è¦æ±‚

```yaml
æ•°æ®ä¿æŠ¤:
  - GDPRåˆè§„ (æ¬§ç›Ÿç”¨æˆ·)
  - æ•°æ®åŠ å¯†ä¼ è¾“å’Œå­˜å‚¨
  - ç”¨æˆ·æ•°æ®å¯¼å‡º/åˆ é™¤

é‡‘èåˆè§„:
  - ä¸æ‰˜ç®¡ç”¨æˆ·èµ„é‡‘
  - ä¸æ¥è§¦äº¤æ˜“æ‰€APIå¯†é’¥æ˜æ–‡
  - é£é™©æç¤ºå’Œå…è´£å£°æ˜

æœåŠ¡æ¡æ¬¾:
  - æ˜ç¡®è´£ä»»è¾¹ç•Œ
  - æœåŠ¡å¯ç”¨æ€§ä¿éšœ (SLA)
  - é€€æ¬¾æ”¿ç­–
```

## ğŸ“ˆ è¥é”€ç­–ç•¥

### è·å®¢æ¸ é“

```yaml
å†…å®¹è¥é”€:
  - æŠ€æœ¯åšå®¢ (SEO)
  - YouTubeæ•™ç¨‹
  - Twitter/Xè¿è¥
  - Reddit/Discordç¤¾åŒº

ä»˜è´¹å¹¿å‘Š:
  - Google Ads (å…³é”®è¯: é‡åŒ–äº¤æ˜“ã€åšå¸‚å•†)
  - Twitter Ads
  - åŠ å¯†è´§å¸åª’ä½“å¹¿å‘Š

åˆä½œæ¨å¹¿:
  - äº¤æ˜“æ‰€è¿”ä½£åˆä½œ
  - KOLæ¨å¹¿
  - è”ç›Ÿè¥é”€ (20%ä½£é‡‘)

å…è´¹å¢å€¼:
  - 7å¤©å…è´¹è¯•ç”¨
  - å¼€æºç¤¾åŒºå¼•æµ
  - å…è´¹å·¥å…· (å¦‚å›æµ‹å¹³å°)
```

### è½¬åŒ–ä¼˜åŒ–

```yaml
é™ä½é—¨æ§›:
  - ä¸€é”®æ³¨å†Œ
  - æ— éœ€ä¿¡ç”¨å¡è¯•ç”¨
  - è¯¦ç»†çš„æ–°æ‰‹æ•™ç¨‹

å»ºç«‹ä¿¡ä»»:
  - å®æ—¶ç›ˆäºå±•ç¤º
  - ç”¨æˆ·æ¡ˆä¾‹
  - å®‰å…¨è®¤è¯æ ‡è¯†

ä¿ƒè¿›è½¬åŒ–:
  - é™æ—¶ä¼˜æƒ 
  - å¹´ä»˜æŠ˜æ‰£
  - æ¨èå¥–åŠ±
```

## âš ï¸ é£é™©å’ŒæŒ‘æˆ˜

### æŠ€æœ¯é£é™©

```yaml
é«˜å¯ç”¨æ€§:
  é£é™©: æœåŠ¡ä¸­æ–­å¯¼è‡´ç”¨æˆ·æŸå¤±
  åº”å¯¹: 
    - å¤šåœ°åŸŸéƒ¨ç½²
    - è‡ªåŠ¨æ•…éšœè½¬ç§»
    - 99.9% SLAä¿éšœ

æ€§èƒ½é—®é¢˜:
  é£é™©: ç”¨æˆ·å¢é•¿å¯¼è‡´æ€§èƒ½ä¸‹é™
  åº”å¯¹:
    - å®¹é‡è§„åˆ’
    - è‡ªåŠ¨æ‰©ç¼©å®¹
    - æ€§èƒ½ç›‘æ§å‘Šè­¦

å®‰å…¨æ¼æ´:
  é£é™©: é»‘å®¢æ”»å‡»ã€æ•°æ®æ³„éœ²
  åº”å¯¹:
    - å®šæœŸå®‰å…¨å®¡è®¡
    - æ¸—é€æµ‹è¯•
    - Bugèµé‡‘è®¡åˆ’
```

### å•†ä¸šé£é™©

```yaml
å¸‚åœºç«äº‰:
  é£é™©: ç±»ä¼¼äº§å“å‡ºç°
  åº”å¯¹:
    - æŒç»­åˆ›æ–°
    - å»ºç«‹æŠ€æœ¯å£å’
    - ä¼˜è´¨å®¢æˆ·æœåŠ¡

æ³•å¾‹åˆè§„:
  é£é™©: ç›‘ç®¡æ”¿ç­–å˜åŒ–
  åº”å¯¹:
    - æ³•å¾‹é¡¾é—®å’¨è¯¢
    - åˆè§„æ€§å®¡æŸ¥
    - çµæ´»è°ƒæ•´ç­–ç•¥

å®¢æˆ·æµå¤±:
  é£é™©: ç”¨æˆ·ä¸ç»­è´¹
  åº”å¯¹:
    - æå‡äº§å“ä»·å€¼
    - å®¢æˆ·æˆåŠŸå›¢é˜Ÿ
    - æ•°æ®åˆ†æä¼˜åŒ–
```

## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¯åš

1. **å¸‚åœºè°ƒç ”**
   - è°ƒæŸ¥ç›®æ ‡ç”¨æˆ·ä»˜è´¹æ„æ„¿
   - åˆ†æç«å“å®šä»·
   - ç¡®å®šæœ€ä¼˜ä»·æ ¼ç‚¹

2. **æŠ€æœ¯éªŒè¯**
   - DockeråŒ–ç°æœ‰ç³»ç»Ÿ
   - æµ‹è¯•å¤šå®ä¾‹è¿è¡Œ
   - è¯„ä¼°èµ„æºæ¶ˆè€—

3. **æˆæœ¬è®¡ç®—**
   - é€‰æ‹©äº‘æœåŠ¡æä¾›å•†
   - è®¡ç®—è¯¦ç»†æˆæœ¬
   - åˆ¶å®šå®šä»·ç­–ç•¥

### çŸ­æœŸ (1-2å‘¨)

1. åˆ›å»ºMVPåŸå‹
2. å¼€å‘å®ä¾‹ç®¡ç†å™¨
3. æ­å»ºæµ‹è¯•ç¯å¢ƒ

### ä¸­æœŸ (1-2æœˆ)

1. å®ŒæˆMVPå¼€å‘
2. Betaæµ‹è¯•
3. æ­£å¼å‘å¸ƒ

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

```yaml
ç¬¬1ä¸ªæœˆ:
  - æ³¨å†Œç”¨æˆ·: 100
  - ä»˜è´¹ç”¨æˆ·: 5
  - MRR: $245

ç¬¬3ä¸ªæœˆ:
  - æ³¨å†Œç”¨æˆ·: 500
  - ä»˜è´¹ç”¨æˆ·: 25
  - MRR: $1,225

ç¬¬6ä¸ªæœˆ:
  - æ³¨å†Œç”¨æˆ·: 2,000
  - ä»˜è´¹ç”¨æˆ·: 100
  - MRR: $4,900

ç¬¬12ä¸ªæœˆ:
  - æ³¨å†Œç”¨æˆ·: 10,000
  - ä»˜è´¹ç”¨æˆ·: 500
  - MRR: $24,500
  - ARR: $294,000
```

## ğŸ’¡ ç»“è®º

**äº‘åŒ–SaaSæ¨¡å¼æ˜¯å¯è¡Œçš„ï¼Œä¸”å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿:**

âœ… **é™ä½ç”¨æˆ·é—¨æ§›** - æ— éœ€æŠ€æœ¯èƒŒæ™¯å³å¯ä½¿ç”¨  
âœ… **ç¨³å®šçš„æ”¶å…¥** - è®¢é˜…åˆ¶å¸¦æ¥å¯é¢„æµ‹çš„ç°é‡‘æµ  
âœ… **è§„æ¨¡æ•ˆåº”** - è¾¹é™…æˆæœ¬é€’å‡ï¼Œåˆ©æ¶¦ç‡æå‡  
âœ… **æŒç»­ä»·å€¼** - å¯ä»¥ä¸æ–­è¿­ä»£å’Œå¢å€¼æœåŠ¡  
âœ… **æ•°æ®ç§¯ç´¯** - ç”¨æˆ·æ•°æ®å¯ä»¥ä¼˜åŒ–äº§å“  

**å»ºè®®å®æ–½ç­–ç•¥:**

1. **å…ˆåšMVP** - å¿«é€ŸéªŒè¯å¸‚åœºéœ€æ±‚
2. **å°æ­¥å¿«è·‘** - ä»ä¸ªäººç‰ˆå¼€å§‹ï¼Œé€æ­¥æ‰©å±•
3. **é‡è§†è¿ç»´** - ç¨³å®šæ€§æ˜¯æ ¸å¿ƒç«äº‰åŠ›
4. **å»ºç«‹ç¤¾åŒº** - ç”¨æˆ·å£ç¢‘æ˜¯æœ€å¥½çš„è¥é”€
5. **æŒç»­åˆ›æ–°** - ä¿æŒæŠ€æœ¯é¢†å…ˆä¼˜åŠ¿

**é¢„è®¡æŠ•å…¥:**

- åˆæœŸå¼€å‘: 2-3ä¸ªæœˆ
- åˆå§‹èµ„é‡‘: $5,000-10,000
- ç›ˆäºå¹³è¡¡: 3-6ä¸ªæœˆ
- å¹´æ”¶å…¥ç›®æ ‡: $300,000+

**è¿™æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„å•†ä¸šæ¨¡å¼ï¼** ğŸš€

