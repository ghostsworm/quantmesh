# 测试网（Testnet）说明文档

> **创建日期**: 2025-01-27  
> **目的**: 帮助用户理解测试网的概念、作用和使用方法

---

## 📋 目录

1. [什么是测试网](#什么是测试网)
2. [测试网的作用](#测试网的作用)
3. [测试网 vs 主网](#测试网-vs-主网)
4. [主要交易所的测试网](#主要交易所的测试网)
5. [如何使用测试网](#如何使用测试网)
6. [测试网的限制](#测试网的限制)
7. [测试网使用建议](#测试网使用建议)

---

## 什么是测试网

### 定义

**测试网（Testnet）** 是交易所或区块链网络提供的**模拟交易环境**，使用**虚拟资金**进行交易，不会产生真实的资金损失。

### 核心特点

- ✅ **虚拟资金**: 使用测试币（Test Coin），不是真实货币
- ✅ **真实环境**: 模拟真实交易所的所有功能
- ✅ **免费使用**: 无需充值，可以无限获取测试币
- ✅ **安全测试**: 可以随意测试各种策略，不会损失真实资金
- ✅ **功能完整**: 支持下单、撤单、查询等所有交易功能

### 类比理解

测试网就像：
- 🎮 **游戏试玩版**: 可以体验所有功能，但使用的是虚拟货币
- 🏗️ **建筑模型**: 可以测试设计，但不会影响真实建筑
- 🧪 **实验室环境**: 可以反复实验，但不会造成实际损失

---

## 测试网的作用

### 1. 学习与熟悉系统

**适用场景**:
- 第一次使用量化交易系统
- 学习交易策略和系统操作
- 熟悉交易所 API 和功能

**优势**:
- 可以反复尝试，不怕犯错
- 没有资金压力，可以慢慢学习
- 理解系统工作原理

### 2. 策略测试与验证

**适用场景**:
- 测试新的交易策略
- 验证参数配置是否合理
- 评估策略的盈利能力

**优势**:
- 在真实市场数据上测试
- 观察策略在不同市场条件下的表现
- 优化参数设置

### 3. 系统开发与调试

**适用场景**:
- 开发量化交易系统
- 调试交易逻辑
- 测试系统稳定性

**优势**:
- 可以频繁测试，不受资金限制
- 测试各种极端情况
- 验证错误处理机制

### 4. 风险控制

**适用场景**:
- 在实盘交易前验证系统
- 确保配置正确
- 避免因配置错误造成损失

**优势**:
- 发现潜在问题
- 验证风控机制是否有效
- 确保系统正常运行

---

## 测试网 vs 主网

### 对比表

| 特性 | 测试网（Testnet） | 主网（Mainnet） |
|------|------------------|----------------|
| **资金类型** | 虚拟测试币 | 真实货币（USDT、BTC等） |
| **资金获取** | 免费无限获取 | 需要充值 |
| **交易结果** | 不影响真实资产 | 直接影响真实资产 |
| **市场数据** | 通常使用真实市场数据 | 真实市场数据 |
| **交易速度** | 可能较慢 | 正常速度 |
| **功能完整性** | 基本完整 | 完整 |
| **API 限制** | 通常更宽松 | 有严格限制 |
| **稳定性** | 可能不稳定 | 更稳定 |
| **客服支持** | 有限支持 | 完整支持 |

### 主要区别

#### 1. 资金性质
- **测试网**: 使用虚拟测试币，可以随时充值
- **主网**: 使用真实货币，需要真实充值

#### 2. 风险程度
- **测试网**: 零风险，可以随意测试
- **主网**: 有真实资金风险，需要谨慎操作

#### 3. 使用目的
- **测试网**: 学习、测试、开发
- **主网**: 实际交易、盈利

---

## 主要交易所的测试网

### 1. Binance（币安）测试网

#### 访问地址
- **测试网地址**: https://testnet.binancefuture.com/
- **API 文档**: https://testnet.binancefuture.com/en/fapi/

#### 特点
- ✅ 功能完整，与主网基本一致
- ✅ 提供测试币充值功能
- ✅ 支持永续合约交易
- ✅ API 接口与主网相同

#### 获取测试币
1. 注册测试网账户
2. 登录后进入"资产"页面
3. 点击"充值"按钮
4. 选择测试币类型（如 USDT）
5. 输入充值数量（可随意填写）
6. 确认充值

#### API Key 申请
1. 登录测试网账户
2. 进入"API 管理"
3. 创建新的 API Key
4. 设置权限（通常测试网权限更宽松）
5. 保存 API Key 和 Secret Key

### 2. Bitget 测试网

#### 访问地址
- **测试网地址**: https://testnet.bitget.com/
- **API 文档**: https://bitgetlimited.github.io/apidoc/zh/swap/#testnet

#### 特点
- ✅ 支持合约交易
- ✅ 提供测试币充值
- ✅ API 接口与主网兼容

#### 获取测试币
1. 注册测试网账户
2. 登录后进入"资产"页面
3. 使用测试币充值功能
4. 选择币种和数量

### 3. Gate.io 测试网

#### 访问地址
- **测试网地址**: https://fx-api-testnet.gateio.ws/
- **API 文档**: https://www.gate.io/docs/developers/apiv4/

#### 特点
- ✅ 提供测试环境
- ✅ 支持 API 测试
- ✅ 功能相对完整

### 4. Bybit 测试网

#### 访问地址
- **测试网地址**: https://testnet.bybit.com/
- **API 文档**: https://bybit-exchange.github.io/docs/v5/testnet

#### 特点
- ✅ 功能完整
- ✅ 提供测试币充值
- ✅ 支持所有交易类型

---

## 如何使用测试网

### 步骤1：注册测试网账户

1. 访问交易所的测试网地址
2. 注册新账户（通常不需要邮箱验证）
3. 登录测试网账户

### 步骤2：获取测试币

1. 进入"资产"或"钱包"页面
2. 找到"充值"或"获取测试币"功能
3. 选择币种（通常选择 USDT）
4. 输入充值数量（可以随意填写，如 10000 USDT）
5. 确认充值

**注意**: 测试币是免费的，可以随时充值，不用担心余额不足。

### 步骤3：创建 API Key

1. 登录测试网账户
2. 进入"API 管理"或"开发者设置"
3. 创建新的 API Key
4. 设置权限：
   - ✅ 读取权限（必需）
   - ✅ 交易权限（必需）
   - ❌ 提现权限（通常不需要）
5. 保存 API Key 和 Secret Key

**安全提示**: 
- 测试网的 API Key 虽然不会影响真实资金，但仍建议妥善保管
- 不要将 API Key 提交到公开代码仓库

### 步骤4：配置系统使用测试网

#### 方法1：修改配置文件

编辑 `config.yaml` 文件，使用测试网的 API Key：

```yaml
app:
  current_exchange: "binance"  # 选择交易所

exchanges:
  binance:
    api_key: "你的测试网_API_KEY"
    secret_key: "你的测试网_SECRET_KEY"
    fee_rate: 0.0002

trading:
  symbol: "BTCUSDT"  # 使用测试网支持的交易对
  price_interval: 1
  order_quantity: 30
  buy_window_size: 10
  sell_window_size: 10
```

#### 方法2：使用测试网专用配置

创建 `config.testnet.yaml` 文件：

```yaml
# 测试网专用配置
app:
  current_exchange: "binance"

exchanges:
  binance:
    api_key: "测试网_API_KEY"
    secret_key: "测试网_SECRET_KEY"
    fee_rate: 0.0002

trading:
  symbol: "BTCUSDT"
  price_interval: 1
  order_quantity: 30
  buy_window_size: 5  # 测试时可以设置较小的窗口
  sell_window_size: 5

system:
  log_level: "DEBUG"  # 测试时使用 DEBUG 级别，查看详细日志
  cancel_on_exit: true
```

运行测试网配置：

```bash
go run main.go config.testnet.yaml
```

### 步骤5：验证系统运行

1. **启动系统**:
   ```bash
   go run main.go config.testnet.yaml
   ```

2. **观察日志**:
   - 检查是否成功连接测试网
   - 验证价格流是否正常
   - 确认订单是否成功下单

3. **检查测试网账户**:
   - 登录测试网账户
   - 查看订单列表
   - 确认订单状态

4. **测试各种场景**:
   - 测试正常交易流程
   - 测试撤单功能
   - 测试风控机制
   - 测试系统退出

### 步骤6：分析测试结果

1. **检查日志输出**:
   - 查看是否有错误信息
   - 确认订单执行情况
   - 验证风控是否正常工作

2. **验证策略效果**:
   - 观察订单成交情况
   - 检查盈亏统计
   - 评估策略表现

3. **优化配置**:
   - 根据测试结果调整参数
   - 优化价格间隔
   - 调整窗口大小

---

## 测试网的限制

### 1. 市场数据限制

**可能的问题**:
- 测试网可能使用延迟的市场数据
- 某些交易对可能不可用
- 市场深度可能较浅

**影响**:
- 测试结果可能与实盘有差异
- 某些极端情况可能无法测试

### 2. 功能限制

**可能的问题**:
- 某些高级功能可能不可用
- API 接口可能有差异
- 某些交易类型可能不支持

**影响**:
- 需要确认测试网支持的功能
- 某些测试可能无法进行

### 3. 稳定性问题

**可能的问题**:
- 测试网可能不够稳定
- 可能经常维护
- 连接可能不稳定

**影响**:
- 测试可能中断
- 需要重新连接
- 数据可能丢失

### 4. 性能差异

**可能的问题**:
- 响应速度可能较慢
- 订单执行可能有延迟
- 系统负载可能较高

**影响**:
- 测试结果可能与实盘有差异
- 性能测试可能不准确

---

## 测试网使用建议

### 1. 充分测试再实盘

**建议流程**:
1. ✅ 在测试网运行至少 1-2 周
2. ✅ 测试各种市场情况
3. ✅ 验证所有功能正常
4. ✅ 确认策略有效
5. ✅ 再考虑使用实盘

**原因**:
- 测试网可以安全地发现和解决问题
- 避免在实盘上犯错误
- 提高实盘交易的成功率

### 2. 使用真实市场数据测试

**建议**:
- 选择测试网中与实盘相同的交易对
- 使用相同的参数配置
- 观察在真实市场数据下的表现

**优势**:
- 测试结果更接近实盘
- 可以更好地评估策略
- 减少实盘风险

### 3. 测试极端情况

**建议测试的场景**:
- ✅ 市场快速波动
- ✅ 网络中断恢复
- ✅ 系统重启
- ✅ 订单大量堆积
- ✅ 风控触发

**目的**:
- 验证系统稳定性
- 确保错误处理正确
- 提高系统可靠性

### 4. 记录测试结果

**建议记录的内容**:
- 测试日期和时间
- 使用的配置参数
- 测试结果和观察
- 发现的问题
- 优化建议

**优势**:
- 可以对比不同配置的效果
- 追踪问题解决过程
- 积累经验

### 5. 逐步增加实盘资金

**建议流程**:
1. 测试网充分验证 ✅
2. 实盘小额测试（如 100 USDT）
3. 观察 1-2 周
4. 逐步增加资金
5. 达到目标资金量

**优势**:
- 降低风险
- 逐步建立信心
- 及时发现和解决问题

### 6. 保持测试网环境

**建议**:
- 即使实盘运行，也保持测试网环境
- 定期在测试网测试新功能
- 使用测试网验证配置变更

**优势**:
- 可以安全地测试新功能
- 验证配置变更
- 降低实盘风险

---

## 常见问题（FAQ）

### Q1: 测试网和实盘的 API Key 可以混用吗？

**A**: 不可以。测试网和实盘使用不同的 API 端点，必须分别申请 API Key。

### Q2: 测试网的交易会影响实盘吗？

**A**: 不会。测试网和实盘完全独立，测试网的交易不会影响实盘账户。

### Q3: 测试网的数据是真实的吗？

**A**: 通常是的。大多数测试网使用真实的市场数据，但可能有一定的延迟。

### Q4: 测试网可以提现吗？

**A**: 不可以。测试币是虚拟的，不能提现或转换为真实货币。

### Q5: 测试网会关闭吗？

**A**: 测试网可能会定期维护，但通常不会永久关闭。建议关注交易所公告。

### Q6: 测试网的 API 限制和实盘一样吗？

**A**: 通常测试网的 API 限制更宽松，但具体限制需要查看交易所文档。

### Q7: 可以在测试网测试所有功能吗？

**A**: 大部分功能可以测试，但某些高级功能可能不可用。建议查看测试网文档。

### Q8: 测试网的速度和实盘一样吗？

**A**: 通常测试网的速度可能较慢，因为优先级较低。但基本功能应该可以正常使用。

---

## 总结

### 测试网的核心价值

1. **安全学习**: 零风险学习量化交易
2. **策略验证**: 在真实数据上测试策略
3. **系统调试**: 安全地调试和优化系统
4. **风险控制**: 避免在实盘上犯错误

### 使用建议

- ✅ **充分测试**: 在测试网运行足够长时间
- ✅ **全面测试**: 测试各种场景和极端情况
- ✅ **逐步实盘**: 从小额开始，逐步增加
- ✅ **持续维护**: 保持测试网环境，定期测试

### 重要提醒

⚠️ **测试网只是测试环境，不能完全替代实盘测试**

- 测试网的结果可能与实盘有差异
- 实盘交易前仍需谨慎
- 建议从小额开始实盘交易
- 持续监控和优化系统

---

**相关文档**:
- [项目分析.md](./项目分析.md) - 了解系统整体架构
- [README.md](../README.md) - 查看项目使用说明

---

*本文档旨在帮助用户理解和使用测试网，如有疑问请参考交易所官方文档或联系技术支持。*

