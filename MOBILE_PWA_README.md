# 📱 移动端 PWA 安全方案

QuantMesh 做市商系统现已支持安全的移动端访问！

## 🎯 核心特性

### ✅ 安全第一

- **API 权限自动检测** - 系统启动时自动检测 API 权限，防止提现风险
- **本地存储** - API 密钥仅存储在你自己的服务器，不经过第三方
- **操作审计** - 所有敏感操作都有完整的审计日志
- **多重认证** - 支持密码 + WebAuthn 生物识别

### 📱 PWA 应用

- **免安装** - 无需下载 APK，避免假冒应用风险
- **跨平台** - iOS、Android、iPad 均可使用
- **离线访问** - 支持基础功能离线查看
- **自动更新** - 系统更新自动生效

### 🎨 移动端优化

- **响应式设计** - 完美适配各种屏幕尺寸
- **底部导航** - 符合移动端操作习惯
- **触摸优化** - 44px 最小点击区域
- **性能优化** - 懒加载、虚拟滚动、缓存策略

### 🌐 灵活的访问方式

- **本地网络** - 同一 WiFi 下直接访问
- **Tailscale VPN** - 零配置加密远程访问（推荐）
- **Cloudflare Tunnel** - 公网访问 + 自动 HTTPS
- **frp 内网穿透** - 自建穿透服务

## 🚀 快速开始

### 5 分钟上手

1. **启动系统**
   ```bash
   ./quantmesh
   ```

2. **手机访问**
   ```
   http://你的IP:28888
   ```

3. **安装 PWA**
   - iOS: 分享 → 添加到主屏幕
   - Android: 菜单 → 安装应用

4. **开始使用**
   - 查看仪表盘
   - 监控持仓
   - 管理订单

详细步骤请查看：[快速开始指南](docs/MOBILE_QUICK_START.md)

## 📖 文档

### 必读文档

- 📱 [快速开始指南](docs/MOBILE_QUICK_START.md) - 5 分钟上手
- 🔒 [安全声明](docs/SECURITY_DISCLAIMER.md) - **必读！**
- 🌐 [移动端访问指南](docs/MOBILE_ACCESS_GUIDE.md) - 详细配置

### 技术文档

- 🏗️ [PWA 实施总结](docs/MOBILE_PWA_IMPLEMENTATION.md) - 技术细节
- 🔧 [配置指南](docs/CONFIGURATION_GUIDE.md) - 系统配置
- 📊 [API 文档](docs/API_DOCUMENTATION.md) - API 接口

## 🔒 安全机制

### 1. API 权限检测

系统启动时自动检测：

```
🔐 [binance:BTCUSDT] 开始检测 API 权限...
✅ API 权限检测通过 (安全评分: 80/100)
💡 建议：启用 IP 白名单限制以提高安全性
```

**检测内容：**
- ✅ 提现权限（必须禁用）
- ✅ 转账权限（必须禁用）
- ✅ 交易权限（必须启用）
- ✅ IP 白名单（建议启用）

### 2. 操作审计

记录所有敏感操作：

```json
{
  "timestamp": "2024-12-30T13:27:00Z",
  "username": "admin",
  "ip": "192.168.1.100",
  "action": "config_update",
  "resource": "trading_params",
  "status": "success"
}
```

### 3. 多层防护

```
网络层 (HTTPS/VPN)
  ↓
认证层 (密码/WebAuthn)
  ↓
权限层 (API 权限检测)
  ↓
审计层 (操作日志)
```

## ⚠️ 安全警告

### 假冒应用风险

**不要下载第三方打包的 APK！**

恶意开发者可能：
1. 制作山寨版应用
2. 窃取你的 API 密钥
3. 转走你的资金
4. 让我们背锅

### 如何防范

✅ **使用 PWA 方案**
- 直接通过浏览器访问
- 无需下载 APK
- 代码开源透明

✅ **自行部署**
- 在自己的服务器运行
- API 密钥不离开你的设备
- 完全掌控系统

✅ **验证来源**
- 只从官方 GitHub 下载
- 检查代码签名
- 自行编译

## 🛡️ 最佳实践

### 交易所配置

1. **禁用提现权限** ⚠️ 必须
2. **禁用转账权限** ⚠️ 必须
3. **启用交易权限** ✅ 需要
4. **设置 IP 白名单** ✅ 推荐
5. **使用子账户** ✅ 推荐

### 网络安全

1. **使用 VPN** - 推荐 Tailscale
2. **启用 HTTPS** - 生产环境必须
3. **设置防火墙** - 限制访问
4. **避免公网暴露** - 除非必要

### 操作安全

1. **强密码** - 至少 12 位
2. **生物识别** - 启用 WebAuthn
3. **定期检查** - 审计日志
4. **小额测试** - 先用测试网

## 📊 功能对比

| 功能 | 原生 APP | PWA 方案 |
|------|---------|----------|
| 安装方式 | 下载 APK | 浏览器访问 |
| 假冒风险 | ⚠️ 高 | ✅ 低 |
| 更新方式 | 手动下载 | 自动更新 |
| 跨平台 | 需分别开发 | 一次开发 |
| API 安全 | 可能被窃取 | 本地存储 |
| 代码审计 | 难以反编译 | 开源透明 |
| 开发成本 | 高 | 低 |

## 🎯 适用场景

### ✅ 适合使用

- 个人做市交易
- 小团队运营
- 需要移动端监控
- 重视安全性
- 技术能力较强

### ❌ 不适合使用

- 完全不懂技术
- 无法自行部署
- 需要托管服务
- 追求极致便利

## 🔧 技术栈

### 前端

- React 18 + TypeScript
- Chakra UI + Tailwind CSS
- Vite + PWA Plugin
- Service Worker

### 后端

- Go + Gin Framework
- SQLite 数据库
- WebSocket 实时通信
- RESTful API

### 安全

- WebAuthn 生物识别
- Cookie Session
- 审计日志系统
- API 权限检测

## 📈 未来计划

### 短期（1-2个月）

- [ ] 生成专业应用图标
- [ ] 添加更多交易所权限检测
- [ ] 实现推送通知
- [ ] 优化移动端性能

### 中期（3-6个月）

- [ ] 离线数据同步
- [ ] 语音控制
- [ ] 桌面小部件
- [ ] 多账户支持

### 长期（6-12个月）

- [ ] 原生应用（可选）
- [ ] AI 助手
- [ ] 跨设备同步
- [ ] 社区功能

## 🤝 贡献

欢迎贡献代码、报告问题、提出建议！

- 🐛 [报告 Bug](https://github.com/your-repo/issues)
- 💡 [功能建议](https://github.com/your-repo/discussions)
- 🔒 [安全问题](mailto:security@your-domain.com)

## 📄 许可协议

MIT License - 详见 [LICENSE](LICENSE)

## ⚠️ 免责声明

- 加密货币交易有风险，投资需谨慎
- 本系统按"原样"提供，不提供任何保证
- 用户需自行承担使用风险
- 开发者不对任何损失承担责任

**详细免责条款请阅读：** [安全声明](docs/SECURITY_DISCLAIMER.md)

## 📞 联系方式

- 📖 文档：`docs/` 目录
- 🐛 Issues：GitHub Issues
- 💬 讨论：GitHub Discussions
- 🔒 安全：security@your-domain.com

---

**安全第一，谨慎操作！**

**API 密钥始终存储在你自己的服务器上！**

**不要下载第三方打包的应用！**

